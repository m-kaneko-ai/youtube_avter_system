# E2Eテスト ベストプラクティス

プロジェクト: Creator Studio AI
作成日: 2025-12-13
最終更新: 2025-12-13

---

## 概要

このファイルはE2Eテスト実行中に学んだ成功パターンを自動蓄積します。
後続テストはこの知見を活用し、試行錯誤を削減します。

---

## 1. サーバー起動

### フロントエンド
```bash
cd frontend && npm run dev
# ポート: 5173
```

### バックエンド
```bash
cd backend && uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 確認コマンド
```bash
# フロントエンド起動確認
curl -I http://localhost:5173

# バックエンド起動確認
curl http://localhost:8000/api/v1/health
```

---

## 2. ページアクセス

### 成功パターン
- （テスト実行後に自動更新）

### 注意点
- （テスト実行後に自動更新）

---

## 3. 認証処理

### 成功パターン
- （テスト実行後に自動更新）

### テスト用認証情報
```typescript
const testUser = {
  email: 'admin@example.com',
  password: 'admin123',
  role: 'owner'
};
```

---

## 4. UI操作

### セレクター戦略
- data-testid を優先
- テキストベースセレクターは最終手段

### 待機戦略
- `waitForSelector` を活用
- 固定時間待機は避ける

### 成功パターン
- （テスト実行後に自動更新）

---

## 5. API連携

### モック vs 実API
- E2Eテストでは実APIを使用
- モック検出時は即座に排除

### 成功パターン
- （テスト実行後に自動更新）

---

## 6. エラーハンドリング

### よくあるエラーと解決策
- （テスト実行後に自動更新）

---

## 7. パフォーマンス

### タイムアウト設定
```typescript
// playwright.config.ts
timeout: 60000, // 60秒
```

### 成功パターン
- （テスト実行後に自動更新）

---

## 更新履歴

| 日時 | テストID | 追加内容 |
|------|---------|---------|
| 2025-12-13 | - | 初期テンプレート作成 |
