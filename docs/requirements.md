# Creator Studio AI 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
**Creator Studio AI** - AIアバター動画制作自動化システム

### 1.2 目的
AIアバターを活用したYouTube動画制作の全工程（競合調査→企画→台本→動画生成→編集→公開）を自動化し、制作時間を90%削減する。

### 1.3 成果目標
| 指標 | 目標値 |
|-----|-------|
| 台本作成時間削減 | 90%削減 |
| 月間動画制作数/人 | 120本（ショート90本 + 長尺30本） |
| ワークフロー自動化 | 各ステップで人間確認を挟みつつ自動化 |

### 1.4 フェーズ展開
1. **Phase 1**: 個人利用（オーナー1名）
2. **Phase 2**: チーム利用（7名）
3. **Phase 3**: 外部クライアント提供

---

## 2. システムアーキテクチャ

※実装済みのため詳細はCLAUDE.mdおよびコードベースを参照してください。

---

## 3. 外部サービス連携

### 3.1 AI生成サービス
| サービス | 用途 | 料金目安 |
|---------|------|---------|
| Claude Code Max | スクリプト生成パターンA | $100-200/月 |
| Gemini API | スクリプト生成パターンB | 従量課金 |
| Nano Banana Pro | サムネイル生成 | 従量課金 |
| MiniMax Audio | ボイスクローン | 従量課金 |
| HeyGen API | AIアバター動画生成 | $89/月〜 |

### 3.2 YouTube/競合調査
| サービス | 用途 | 料金目安 |
|---------|------|---------|
| YouTube Data API v3 | 競合チャンネル/動画調査 | 無料（クォータ制限） |
| YouTube Analytics API | 自チャンネル分析 | 無料 |
| Social Blade API | 競合履歴データ | $9.99/月〜 |
| SerpApi | 検索トレンド + 関連レビュー | $50/月〜 |

### 3.3 追加データソース
| サービス | 用途 | 備考 |
|---------|------|------|
| Amazon PA-API | 書籍ランキング・レビュー | 無料（売上実績必要） |
| Instagram Graph API | 自社アカウント分析 | 無料 |

### 3.4 オプションサービス
| サービス | 用途 |
|---------|------|
| Veo API | B-roll動画生成 |
| Sora API | B-roll動画生成 |
| TikTok Content API | 自動投稿 |
| vidIQ API | YouTube SEO |

---

## 4. 認証・権限設計

※実装済みのため詳細はbackend/app/models/user.pyおよびCLAUDE.mdを参照してください。

---

## 5. ページ構成（10ページ）

※実装済みのため詳細はfrontend/src/constants/pages.tsxおよびCLAUDE.mdを参照してください。

実装済みページ:
1. ログイン (/login) - Google OAuth認証
2. ダッシュボード (/dashboard)
3. リサーチ (/research)
4. 企画・計画 (/planning)
5. 台本・メタデータ (/script)
6. 動画制作 (/production)
7. 公開・配信 (/publish)
8. 分析・ナレッジ (/analytics)
9. エージェント (/agent) - AI自動化
10. 管理 (/admin)

---

## 6. ナレッジ構築システム

### 6.1 ナレッジ単位
**1ナレッジ = 1ブランド/事業 または 1コンテンツシリーズ**

### 6.2 ナレッジドキュメント構造

```
■ SECTION 1: メインターゲット像
├── 現在の状況（職業・年商・居住・家族）
├── 挫折経験・トラウマ（具体的エピソード）
├── 現在の集客状況（各SNSの現実・売上内訳）
├── 環境の制約（撮影環境・在宅時間など）
├── 1日のリアルなスケジュール
├── 表面的な言い訳 vs 本当の恐怖
├── 商品を知った瞬間の心理変化
├── 理想と現実のギャップ
├── 購入を決意する瞬間の心理
├── 核心的インサイト
├── 刺さるメッセージ（ダメな訴求 vs 刺さる訴求）
├── 顧客の「表面の悩み」
├── 顧客の「深い悩み・欲求・本音」（インサイト）
└── その悩みに気づいたきっかけやエピソード

■ SECTION 2: サブターゲット像
└── （メインターゲットと同じ項目構造）

■ SECTION 3: 競合分析（Competitor）
├── 競合の主なサービス・プレイヤー
├── 競合が提供している主な価値・メソッド・切り口
├── 競合がカバーしきれていないターゲットの不満・ニーズ
└── 顧客が競合に感じている不満・課題・限界

■ SECTION 4: 自社分析（Company）
├── 自身・事業の強み／技術・ノウハウ／実績
├── どんな想いでこのビジネスをやっているか（ミッション・理念）
├── 競合と違う点・自分ならではの価値
└── 実際に成果を出した事例

■ SECTION 5: AHAコンセプト
├── 常識破壊（業界の常識 → 新常識）
├── インサイト（顧客が気づいていない深い欲求）
└── シンプルな解決策＆キャッチーなネーミング

■ SECTION 6: コンセプトまとめ
├── カテゴリー（どんな分野か）
├── ターゲット（どんな悩みや欲求を持った人が対象か）
├── メソッド（どんな手法を使うのか）
├── ベネフィット（どんな未来やゴールにつながるか）
├── キャラクター（講師のキャラクター）
└── ストーリー（経歴やこれまでの変容ストーリー）

■ SECTION 7: カスタマージャーニー
├── Customer（顧客の現状）
├── Competitor（競合の限界）
├── Company（独自の解決策）
└── Concept（新しい解決策の提示）

■ SECTION 8: プロモーション戦略 & 商品設計（オプション）
├── ファネル設計（無料オファー→フロント→バックエンド）
├── 商品名・価格帯
└── カリキュラム概要
```

### 6.3 ナレッジ構築チャットボット

#### 目的
ヒアリングシートを送付する代わりに、チャット形式でクライアントから情報を引き出し、ナレッジを自動構築する。

#### 設計思想
- 「分からない」と言われたら、別の角度から質問（エピソードベース）
- 抽象的な回答には「例えば？」「具体的には？」と深掘り
- 必要な資料はその場でアップロード依頼
- 外部AIに逃げなくても、このチャットボットだけで完結

#### ヒアリングフロー（8ステップ）
```
STEP 1: ビジネス基本情報
└── 業種、年商、事業年数、提供サービス

STEP 2: メインターゲット深掘り
├── 基本属性（年齢・職業・性別・家族構成）
├── 現在の状況と環境
├── 挫折経験・トラウマ（具体的エピソード）
├── 1日のスケジュール
├── 表面の悩み → 深い悩み・本音へ深掘り
├── 理想と現実のギャップ
└── 購入決定の心理

STEP 3: サブターゲット（任意）
└── メインと同様の深掘り

STEP 4: 競合分析
├── 主な競合サービス・プレイヤー
├── 競合の価値・メソッド
└── 競合への顧客の不満

STEP 5: 自社の強み・差別化
├── 技術・ノウハウ・実績
├── ミッション・理念
└── 成果事例

STEP 6: AHAコンセプト構築
├── 破壊したい業界の常識
├── 顧客のインサイト
└── 解決策のネーミング

STEP 7: コンセプト・ストーリー
├── 講師のキャラクター
└── 変容ストーリー

STEP 8: 商品設計（任意）
└── 価格帯・カリキュラム
```

#### 「分からない」への対応パターン
| ユーザーの反応 | チャットボットの対応 |
|--------------|-------------------|
| 「分からない」 | 別の角度から質問（エピソードベース） |
| 「考えたことない」 | 過去のお客様の具体例を聞く |
| 抽象的な回答 | 「例えば？」「具体的には？」と深掘り |
| 長文で回答 | 要点を整理して確認 |
| 資料が必要な場面 | 「〇〇があればアップロードしてください」 |

#### 出力
- ナレッジドキュメント（上記構造に自動埋め込み）
- データベースに自動保存
- PDF/Markdown形式でエクスポート可能

### 6.4 ナレッジ連携フロー

```
【ナレッジDB】
     │
     ├──→ 台本生成AI
     │    「ナレッジのターゲット像・インサイトを参照」
     │    「刺さるメッセージを使用」
     │
     ├──→ サムネイル生成AI
     │    「ターゲットの悩み・キャッチコピーを参照」
     │
     ├──→ メタデータ生成AI
     │    「競合分析・SEOキーワードを参照」
     │
     └──→ LP/ウェビナー台本AI
          「カスタマージャーニー・AHAコンセプトを参照」

【MCPエージェント確認フロー】
各機能実行時に毎回ナレッジと照合
├── 「このターゲットに対して、このメッセージは適切か？」
├── 「インサイトとズレていないか？」
└── 「刺さる訴求を使っているか？」
```

---

## 7. ワークフロー設計

※実装済みのため詳細はbackend/app/models/project.py（WorkflowStep）を参照してください。

8ステップワークフロー:
1. 競合調査・トレンド分析 → [人間確認]
2. 企画立案 → [人間確認]
3. 台本生成（Gemini/Claude比較） → [人間確認]
4. メタデータ生成 → [人間確認]
5. 音声生成 → [人間確認]
6. アバター動画生成 → [人間確認]
7. 編集・B-roll挿入 → [人間確認]
8. 公開 → [人間確認]

---

## 8. データベース設計

※実装済みのため詳細はbackend/app/models/__init__.pyおよびbackend/alembic/versionsを参照してください。

実装済みテーブル（50以上）:
- 基本: users, clients, categories, tags, knowledges
- プロジェクト: projects, videos, workflow_steps
- リサーチ: research, competitors
- 企画: planning_chat_sessions, ai_suggestions, project_schedules
- 台本: scripts, thumbnails, metadata_generations
- 動画制作: audio_generations, avatar_generations, broll_generations
- 公開: publications, publish_schedules
- 分析: video_analytics, channel_analytics, analytics_reports
- 管理: system_settings, api_connections, audit_logs
- ダッシュボード: tasks, notifications
- CTA: cta_templates, video_cta_assignments, cta_click_logs
- 学習: performance_records, learning_insights, success_patterns
- DNA: content_dna, dna_elements, dna_templates
- 最適化: retention_curves, ab_tests, posting_time_analysis, end_screens
- エージェント: agents, agent_tasks, comment_queue, trend_alerts

---

## 9. セキュリティ要件

※実装済みのため詳細はbackend/app/core/security.pyおよびdocs/SCOPE_PROGRESS.md（本番運用診断履歴）を参照してください。

実装済み:
- Google OAuth 2.0認証
- JWT + HttpOnly Cookie（XSS対策完了）
- RBAC（ロールベースアクセス制御）
- 構造化ロギング
- グローバルエラーハンドラー
- 脆弱性修正（python-jose, FastAPI更新完了）

---

## 10. 非機能要件

※パフォーマンス目標および運用要件はCLAUDE.mdを参照してください。

実装済み:
- 構造化ロギング（DEBUG/INFO/ERROR）
- /metricsエンドポイント（Prometheus連携準備完了）
- グローバルエラーハンドリング

未実装:
- Redisキャッシング（マスターデータ、分析API）
- リードレプリカ構成

---

## 11. 開発フェーズ

※詳細な進捗状況はdocs/SCOPE_PROGRESS.mdを参照してください。

現在のフェーズ: Phase 1（個人利用）完了 → Phase 2（チーム利用）実装中

完了項目:
- フロントエンドUI（全10ページ）
- バックエンドAPI（85%完成）
- 認証・認可システム
- 基本ワークフロー
- 外部API連携（YouTube, Claude, Gemini, HeyGen, MiniMax）
- リスト獲得&学習システム（Phase 1-5完了）

未完了項目:
- ナレッジ構築チャットボット実装
- 承認フロー完全実装
- YouTube投稿API実装
- 一部AI生成機能の実API連携

---

## 12. 参考資料

### 12.1 UIデザイン参考
- React + Tailwind CSS実装コード（提供済み）
- ダークモード/ライトモード対応

### 12.2 ナレッジテンプレート参考
- スタートアップコンサルシート｜AIアバター超集客法.pdf

---

---

## 13. 🆕 機能拡張要件 - リスト獲得 & 学習システム

### 13.1 拡張概要

- **機能名**: リスト獲得 & YouTube成功学習システム
- **目的**: 動画公開後の収益化フローを完成させ、継続的な改善サイクルを構築
- **解決する課題**:
  - リスト獲得機能が10%しか実装されていない
  - 動画を作っても収益化に繋がらない
  - 学習サイクルがない（オープンループ問題）
- **期待効果**:
  - リスト獲得率 1% → 2.5%（150%向上）
  - 台本品質の継続的向上
  - YouTube アルゴリズム最適化

### 13.2 秘策一覧（7つの戦略機能）

| 秘策 | 名称 | 概要 |
|------|------|------|
| 1 | パフォーマンス学習システム | クローズドループで継続改善 |
| 2 | サブエージェント戦略 | 並列AIで調査・QA高速化 |
| 3 | YouTubeアルゴリズム最適化 | リテンション分析・A/Bテスト |
| 4 | コンテンツ複利戦略 | シリーズ管理・内部リンク |
| 5 | コンテンツDNA抽出 | 成功パターンの再利用 |
| 6 | 見落とされた機能 | コメント自動化・最適投稿時間 |
| 7 | Central DB活用 | ナレッジ連携で台本品質向上 |

### 13.3 CTA管理機能

#### データモデル
```typescript
interface CTATemplate {
  id: string;
  name: string;
  type: 'line' | 'email' | 'download' | 'discord' | 'webinar' | 'lp' | 'custom';
  url: string;
  utmParams?: { source?: string; medium?: string; campaign?: string };
  shortUrl?: string;
  displayText: string;
  placement: 'description_top' | 'description_bottom' | 'pinned_comment';
  isActive: boolean;
  conversionCount: number;
}
```

#### 機能一覧
- CTAテンプレートCRUD（管理ページ新タブ）
- 説明欄への自動挿入
- UTMパラメータ自動生成
- 短縮URL生成（TinyURL）
- コンバージョン計測

### 13.4 パフォーマンス学習DB

#### クローズドループ
```
企画 → 制作 → 公開 → 分析 → 【学習】→ より良い企画
```

#### データモデル
```typescript
interface PerformancePattern {
  id: string;
  hookType: 'question' | 'shock' | 'story' | 'problem' | 'promise';
  titlePattern: string;
  avgCTR: number;
  avgRetention: number;
  avgListAcquisition: number;
  sampleCount: number;
}
```

### 13.5 コンテンツ複利戦略

#### シリーズ管理
```typescript
interface ContentSeries {
  id: string;
  name: string;
  videoIds: string[];
  playlistUrl?: string;
  internalLinkStrategy: 'first-last' | 'sequential' | 'related';
}
```

#### ショート→長尺→リスト ファネル
```
ショート動画（認知獲得）
    ↓ 「詳しくは長尺動画で」
長尺動画（信頼構築）
    ↓ 「無料PDFはLINEで」
LINE登録（リスト獲得）
```

### 13.6 新規API エンドポイント

| パス | 用途 |
|------|------|
| `/api/v1/cta` | CTA管理CRUD |
| `/api/v1/learning` | パフォーマンスパターン |
| `/api/v1/agents` | サブエージェントタスク |
| `/api/v1/optimization` | リテンション・A/Bテスト |
| `/api/v1/series` | シリーズ管理 |
| `/api/v1/dna` | コンテンツDNA抽出 |
| `/api/v1/engagement` | コメント・最適投稿時間 |

### 13.7 新規DBテーブル

1. `cta_templates` - CTAテンプレート
2. `video_performance_patterns` - パフォーマンス学習
3. `agent_tasks`, `agent_results` - サブエージェント
4. `retention_curves`, `ab_tests` - 最適化
5. `content_series` - シリーズ管理
6. `content_dna` - DNA抽出
7. `comment_reply_templates`, `optimal_times`, `end_screens` - エンゲージメント

### 13.8 実装フェーズ

| Phase | 内容 | 工数 |
|-------|------|------|
| 1 | CTA基盤 | 3日 |
| 2 | 連携機能（ショート→長尺、シリーズ） | 2日 |
| 3 | 学習システム（学習DB、DNA、Central DB） | 3日 |
| 4 | アルゴリズム最適化（リテンション、A/B） | 4日 |
| 5 | 自動化（エージェント、コメント） | 3日 |

**合計: 約15日**

---

**作成日**: 2025-12-11
**最終更新日**: 2025-12-16
**バージョン**: 3.1
**作成者**: Creator Studio AI 開発チーム

**注**: 実装済み機能の詳細は docs/SCOPE_PROGRESS.md およびコードベースを参照してください。

---

## 14. 🆕 機能拡張要件 - 台本専門家レビュー機能

### 14.1 拡張概要

- **機能名**: 台本専門家レビュー機能
- **目的**: AI生成台本の品質を5人の専門家が多角的に添削し、最高版の台本と安心セットを提供
- **解決する課題**:
  - Gemini版とClaude版のどちらを選ぶか迷う
  - 台本品質への不安（本当にこれで良いのか？）
  - 公開前の確認項目が不明確
  - 視聴者の反応が予測できない
- **期待効果**:
  - 台本採用の意思決定時間 50%短縮
  - 台本品質の客観的評価による安心感
  - 公開後パフォーマンスの予測精度向上

### 14.2 専門家の役割

| 専門家 | アイコン | 担当領域 | 評価項目 |
|-------|---------|---------|---------|
| フックマスター | 🎣 | 冒頭30秒の鬼 | 開始3秒のインパクト、問題提起の明確さ、離脱防止フック |
| ストーリーアーキテクト | 🎬 | 物語の設計士 | 構成の論理性、起承転結、情報の順序 |
| エンタメプロデューサー | 🎭 | 笑いと緩急の職人 | リズム感、感情の波、エンタメ要素 |
| ターゲットインサイター | 🎯 | 視聴者の代弁者 | ターゲット適合性、インサイト活用、共感ポイント |
| CTAストラテジスト | 📣 | 行動喚起の達人 | CTA明確性、導線設計、次のアクション誘導 |

### 14.3 UIフロー

```
【Step 1】初回生成
  ┌─────────────┐     ┌─────────────┐
  │ Gemini版    │ ←→ │ Claude版    │
  │  台本       │     │  台本       │
  └─────────────┘     └─────────────┘
         ↓
  ┌────────────────────────────────┐
  │「5人の専門家に添削してもらう」│
  │          ボタン                │
  └────────────────────────────────┘
         ↓
【Step 2】専門家レビュー実行中
  ┌────────────────────────────────┐
  │ 🎣 フックマスターが分析中...    │
  │ 🎬 ストーリーアーキテクト添削中  │
  │ 🎭 エンタメプロデューサー評価中  │
  │ 🎯 ターゲットインサイター確認中  │
  │ 📣 CTAストラテジスト最適化中    │
  └────────────────────────────────┘
         ↓
【Step 3】最終版 + 安心セット表示
  ┌─────────────────────────────────┐
  │ 🏆 専門家レビュー版（最高版）    │
  │                                 │
  │ ✅ 公開OK判定: ○ (スコア: 87/100)│
  │                                 │
  │ 📋 必須項目チェックリスト        │
  │ □ フック（3秒以内）: ✅          │
  │ □ ターゲット明確化: ✅           │
  │ □ CTA明確: ⚠️ 改善推奨           │
  │                                 │
  │ 📊 ビフォーアフター比較          │
  │ - フックスコア: 65 → 92 (+27)   │
  │ - 視聴維持率予測: 48% → 71%     │
  │ - CTAクリック率: 2.1% → 4.8%    │
  │                                 │
  │ 💡 改善の根拠                    │
  │ - 🎣 冒頭を質問形式に変更        │
  │ - 🎬 起承転結を明確化            │
  │ - 🎯 ペルソナの悩みに直結        │
  │                                 │
  │ 🎯 ペルソナ別反応予測            │
  │ - メインターゲット: 😊 高評価90%  │
  │ - サブターゲット: 😐 中立60%      │
  │                                 │
  │ [この台本を採用する] ボタン       │
  └─────────────────────────────────┘
```

### 14.4 実装範囲

#### Phase 1 + Phase 2（即実装・UI + ロジック）

| 機能 | 内容 | 実装先 |
|------|------|-------|
| 🚀 公開OK判定 | スコア87/100以上で自動判定 | QualityAssurance.tsx |
| ✅ 必須項目チェックリスト | 10項目の合格/不合格判定 | ChecklistPanel.tsx |
| 📊 ビフォーアフター比較 | 4指標の改善度を数値化 | BeforeAfterChart.tsx |
| 💡 改善の根拠 | 5人の専門家の改善理由を表示 | ImprovementReasons.tsx |
| 🎯 ペルソナ別反応予測 | ターゲット別の反応確率 | PersonaReactionPanel.tsx |

#### Phase 3（基盤のみ・UI後日）

| 機能 | 内容 | Central DB蓄積データ |
|------|------|------------------|
| 🏆 成功事例との類似度 | 過去の高パフォーマンス台本とのベクトル類似度 | script_scores, embeddings |
| 📈 過去の自分との比較 | 同じナレッジ内での品質推移グラフ | script_history |

### 14.5 Central DB蓄積データ

#### 蓄積タイミング

| タイミング | 保存内容 | テーブル |
|-----------|---------|---------|
| 添削完了時 | 各専門家のスコア、総合スコア、改善提案 | `script_scores` |
| 採用ボタン押下時 | 採用フラグ、採用された台本テキスト | `adopted_scripts` |
| YouTube公開後 | パフォーマンス紐付け（再生数、視聴維持率、CTR） | `video_performance` |
| 専門家添削時 | 改善パターン（Before/After/理由） | `improvement_patterns` |

#### Central DBスキーマ（MCP連携）

```json
{
  "category": "content",
  "subcategory": "script_quality",
  "title": "台本スコア履歴 - {video_title}",
  "content": {
    "scriptId": "script_001",
    "knowledgeId": "knowledge_001",
    "scores": {
      "hook": 92,
      "story": 85,
      "entertainment": 78,
      "target": 90,
      "cta": 81,
      "overall": 87
    },
    "expertAdvice": [
      { "expert": "フックマスター", "before": "...", "after": "...", "reason": "..." }
    ],
    "personaReactions": [...],
    "performance": {
      "views": 15420,
      "retention": 68.5,
      "ctr": 4.2
    }
  },
  "tags": ["台本", "スコア", "専門家レビュー"]
}
```

### 14.6 API仕様

#### エンドポイント

```
POST /api/v1/scripts/expert-review
```

#### リクエスト

```json
{
  "geminiScript": [
    { "id": "g1", "label": "導入", "timestamp": "0:00-0:30", "content": "..." }
  ],
  "claudeScript": [
    { "id": "c1", "label": "導入", "timestamp": "0:00-0:30", "content": "..." }
  ],
  "knowledgeId": "knowledge_001"
}
```

#### レスポンス（Phase 1+2）

```json
{
  "expertScript": [
    { "id": "e1", "label": "導入", "timestamp": "0:00-0:30", "content": "..." }
  ],
  "qualityAssurance": {
    "readyToPublish": true,
    "score": 87,
    "checklist": [
      { "id": "hook", "label": "冒頭3秒のインパクト", "passed": true },
      { "id": "cta", "label": "明確なCTA", "passed": false, "comment": "改善推奨" }
    ],
    "beforeAfter": {
      "hookScore": { "before": 65, "after": 92 },
      "retentionScore": { "before": 48, "after": 71 },
      "ctaScore": { "before": 2.1, "after": 4.8 },
      "overallScore": { "before": 58, "after": 87 }
    },
    "improvementReasons": [
      {
        "expertName": "🎣 フックマスター",
        "category": "冒頭",
        "before": "プログラミングを始めたいあなたへ",
        "after": "まだExcelで消耗してるの?",
        "reason": "質問形式で視聴者の注意を即座に引く"
      }
    ],
    "personaReactions": [
      {
        "personaName": "メインターゲット（30代会社員）",
        "reaction": "positive",
        "reason": "業務効率化の悩みに直結",
        "probability": 0.9
      }
    ]
  }
}
```

#### レスポンス（Phase 3追加項目）

```json
{
  "successSimilarity": 0.85,
  "historicalComparison": {
    "currentScore": 87,
    "previousAverage": 72,
    "improvement": 15,
    "rank": "上位10%"
  }
}
```

### 14.7 UIの問題修正

| 問題 | 修正内容 |
|------|---------|
| 「両方の良いところをミックスして生成」ボタン | 削除（専門家レビュー機能に統合） |
| ActionBarが画面スクロールで隠れる | 画面下部に固定表示（position: fixed） |
| 採用ボタンが複数存在する | 専門家レビュー後のみ表示 |

### 14.8 5人の専門家 詳細プロンプト設計

#### 🎣 フックマスター（冒頭30秒の鬼）
```
あなたは「フックマスター」です。YouTube台本の冒頭30秒を専門に添削します。

【評価項目】
1. 常識破壊フック（「AなのにB」構文があるか）
2. オープンループ（答えを後に持ってきているか）
3. 「続きが気になる」仕掛けがあるか
4. 冒頭の無駄な挨拶・前置きがないか
5. 感情を動かす最初の一言があるか

【改善例】
❌「こんにちは！今日は○○について解説します」
✅「○○をやってる人、全員間違ってます。理由は3つ。最後の1つが一番ヤバい」
```

#### 🎬 ストーリーアーキテクト（物語の設計士）
```
あなたは「ストーリーアーキテクト」です。台本全体の構造を専門に添削します。

【評価項目】
1. 3幕構成（導入→展開→結論）のバランス
2. 感情曲線（盛り上がり→落ち着き→クライマックス）
3. 伏線と回収（「さっき言ったやつ、ここで繋がる」）
4. セクション間のブリッジ（途切れない流れ）
5. 情報の出し順（最重要を最後に持ってくる）
```

#### 🎭 エンタメプロデューサー（笑いと緩急の職人）
```
あなたは「エンタメプロデューサー」です。視聴者を飽きさせない演出を専門に添削します。

【評価項目】
1. 茶番・ボケツッコミの挿入ポイント
2. テンポ設計（導入120%→本題105%→まとめ130%）
3. キャラクター性の一貫性（ずんだもん語録など）
4. 「重い話」の後の「軽い話」（緩急）
5. 視覚的な演出指示（B-roll、テロップタイミング）
```

#### 🎯 ターゲットインサイター（視聴者の代弁者）
```
あなたは「ターゲットインサイター」です。ターゲット視聴者との共感を専門に添削します。

【ナレッジDBから参照】
- メインターゲット像
- サブターゲット像
- インサイト
- 刺さるメッセージ

【評価項目】
1. ペルソナ適合性（言葉遣い、知識レベル）
2. 共感ポイントの配置（「あるある」「わかる」）
3. 「痛み」と「欲求」への訴求
4. ナレッジDBとの一貫性
5. 専門用語の適切な言い換え
```

#### 📣 CTAストラテジスト（行動喚起の達人）
```
あなたは「CTAストラテジスト」です。視聴者を行動させるCTAを専門に添削します。

【評価項目】
1. CTAの自然な挿入（押し売り感の排除）
2. 中間CTA（動画途中の誘導）の設計
3. 終盤CTAの説得力
4. 次の動画への誘導（シリーズ化）
5. LINE/メルマガ登録への導線
```

### 14.9 安心セット 詳細仕様

#### 🚀 公開OK判定
```typescript
interface PublishReadiness {
  ready: boolean;           // true = 公開OK
  score: number;            // 0-100
  grade: 'S' | 'A' | 'B' | 'C' | 'D';  // ランク
  message: string;          // 「自信を持って公開してください！」
}

// 判定基準
// S: 90以上 → 「バズる可能性が高いです！」
// A: 80-89 → 「自信を持って公開してください！」
// B: 70-79 → 「公開OK。さらに改善の余地あり」
// C: 60-69 → 「公開可能ですが、改善推奨」
// D: 60未満 → 「再添削を推奨します」
```

#### ✅ 必須項目チェックリスト（10項目）
```typescript
const CHECKLIST_ITEMS = [
  { id: 'hook_3sec', label: '冒頭3秒のインパクト' },
  { id: 'hook_30sec', label: '冒頭30秒のフック' },
  { id: 'open_loop', label: 'オープンループ（続きが気になる）' },
  { id: 'structure', label: '3幕構成（導入→展開→結論）' },
  { id: 'entertainment', label: '茶番・掛け合いが3箇所以上' },
  { id: 'tempo', label: 'テンポの緩急設計' },
  { id: 'target_match', label: 'ターゲットの言葉遣い' },
  { id: 'pain_point', label: '痛みと欲求への訴求' },
  { id: 'mid_cta', label: '中間CTA' },
  { id: 'end_cta', label: '終盤CTA' },
];
```

#### 📊 ビフォーアフター比較（4指標）
```typescript
interface BeforeAfter {
  hookScore: { before: number; after: number };      // フック強度
  retentionScore: { before: number; after: number }; // 視聴維持率予測
  ctaScore: { before: number; after: number };       // CTA効果
  overallScore: { before: number; after: number };   // 総合スコア
}
```

### 14.10 実装タスク

#### フロントエンド（3日）

| タスク | 工数 |
|--------|------|
| ScriptPage.tsx 修正（3段階フロー） | 0.5日 |
| ExpertReviewModal.tsx 作成 | 1日 |
| QualityAssurance.tsx 作成 | 1日 |
| expert.ts サービス作成 | 0.5日 |

#### バックエンド（4日）

| タスク | 工数 |
|--------|------|
| expert.py エンドポイント作成 | 0.5日 |
| expert_review_service.py 作成 | 2日 |
| Central DB連携（script_scores保存） | 1日 |
| スキーマ定義 | 0.5日 |

#### Phase 3（基盤のみ・2日）

| タスク | 工数 |
|--------|------|
| Central DBに成功パターン蓄積 | 1日 |
| 履歴比較ロジック | 1日 |

**合計工数: 約9日**

### 14.11 将来拡張（Phase 3 UI）

Phase 3のUIは、データ蓄積後に以下を追加予定：

| 機能 | 内容 | 必要データ量 |
|------|------|------------|
| 🏆 成功事例との類似度 | 過去の高パフォーマンス台本との類似度表示 | 50本以上の採用済み台本 |
| 📈 過去の自分との比較 | 同じナレッジ内でのスコア推移グラフ | 10本以上のスコア履歴 |
| 🎯 学習による精度向上 | 予測と実績の比較による予測精度向上 | 公開後パフォーマンスデータ |

---
